#!/bin/perl -w

use warnings;

# function that counts gc content 
sub countGC 
{
	$gc = $_[0];
	$len = length $gc;
	$count = 0;

	for($i=0 ; $i < $len ; $i++) {
		if("C" eq substr($gc, $i, 1) or "G" eq substr($gc, $i, 1)) {
			$count++;
		}
	}

	return $count * 100 / $len;
}

$max_gc_count = 0.0;
$max_gc_name = "";
$temp_gc_name = "";

$filename = "test.txt";
open(FH, "<$filename") or die("could not open $filename\n");

while(<FH>) {
	if(">" eq substr($_, 0, 1)) {
		$temp_gc_name = $_;
	}
	else {
		$temp_gc_count = countGC($_);

		if($temp_gc_count > $max_gc_count) {
			$max_gc_count = $temp_gc_count;
			$max_gc_name = $temp_gc_name;
		}

		print "gc_name : " . chomp($temp_gc_name) . " [$temp_gc_count]\n";
	}
}

print "max_gc_name  : $max_gc_name";
print "max_gc_count : $max_gc_count\n";

